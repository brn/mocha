h2. コンパイルの実行

h3. "index":index.html > コンパイルの実行

mochaはコンパイラをjsにエクスポートしているので、jsからもコンパイル可能です。

*ソースからコンパイルする。*

<pre class="brush: js">
var roaster = mocha.import('script').Roaster,
    result = roaster.compile('(x,y,z)->x + y + z;', 'utf-8', {
               prettyPrint : true, 
               debug : false,
               compress : false
             });
console.log(result);
</pre>

*ファイルをコンパイルする*

<pre class="brush: js">
var roaster = mocha.import('script').Roaster,
    result = roaster.compile('src/test.js', 'utf-8', {
               prettyPrint : true,
               debug : false,
               compress : false
             });
console.log(result);
</pre>

*ファイルをデプロイする*

<pre class="brush: js">
var roaster = mocha.import('script').Roaster,
roaster.deploy('src/test.js', 'utf-8', {
  prettyPrint : true,
  debug : false,
  compress : false
});
</pre>

*依存関係を取得する*

<pre class="brush: js">
var roaster = mocha.import('script').Roaster,
    result = roaster.checkDependencies('src/test.js');
result.forEach(function (filename) {
  console.log(filename);
});
</pre>

h2. Roaster API

|_. 名前|_. インターフェース|_. 説明|
|compile|Roaster::compile(filename, charset, options)|ソース文字列からコンパイルします。コンパイル結果のソース文字列を返却します。|
|compileFile|Roaster::compileFile(filename, charset, options)|ファイルをコンパイルします。コンパイル結果のソース文字列を返却します。|
|checkDependencies|Roaster::checkDependencies(filename)|依存関係をチェックします。依存関係のあるファイルの配列を返します。|
|deploy|Roaster::deploy(filename, charset, options)|ファイルからコンパイルし、引数に与えられたオプションを元に、ファイルに書き出します。|



