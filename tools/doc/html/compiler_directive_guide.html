h2. 概要

mochaはES Nextの文法に加え以下の独自拡張を持っています。

|_. 名前|_. インターフェース|_. 説明|
|@assert|@assert(expect, expression)|アサーションの実行です。versionにdebugが定義されている時のみコード生成されます。|
|@version|@version(version){...}|バージョン分岐ブロックを生成します。|
|@include|@include &lt;filename&gt;|ファイルを読み込み、その場所に展開します。いっさいのコンパイルは行われません。|

*例*

*@assert*
<notextile>
<pre class="brush: js">
test(x,y) -> x + y;
@assert(true, test(1,1) === 2);
//このように展開される
Runtime.assert(true, test(1,1) === 2, 'test(1,1) === 2', 'filename', 'linenumber')
</pre>
</notextile>

*@version*
<notextile>
<pre class="brush: js">
var x = 0;
@version(debug) {
  x = 1;
}
@version(release) {
  x = 2;
}
//デバッグモードの時はx = 1
//リリースモードの時はx = 2
</pre>
</notextile>

*@include*
<notextile>
<pre class="brush: js">
@include 'jQuery-min.js'
$(->{
...
})
//@includeの部分にjQueryのコードがそのまま挿入される
</pre>
</notextile>