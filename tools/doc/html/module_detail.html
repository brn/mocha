h2. module

h3. "index":index.html > "ES Next":es_next_detail.html > module

モジュール化機能です。

*実装済み処理系* : 無し

*基本的な例*

<notextile>
<pre class="brush: js">
module testModule {
  export test() -> console.log('test!!');
}
</pre>
</notextile>

*変換後*

<notextile>
<pre class="brush: js">
var _mochaGlobalAlias = _mochaGlobalExport['-759650552-module_test.js'],
    testModule = _mochaGlobalAlias.testModule = function () {
      function testExport1() {
        return console.log('test!!');
      }
      var _mochaLocalExport = {};
      _mochaLocalExport.testExport1 = testExport1;
      return _mochaLocalExport;
    }()
</pre>
</notextile>

*入れ子*

<notextile>
<pre class="brush: js">
module testModule2 {
  module testInnerModule3 {
    export testExport2()->2;
    export testExport3 = {test:200};
  }
}
</pre>
</notextile>

*変換後*

<notextile>
<pre class="brush: js">
testModule2 = _mochaGlobalAlias.testModule2 = function () {
  var _mochaLocalExport = {},
    testInnerModule3 = _mochaLocalExport.testInnerModule3 = function () {
      function testExport2() {
        return 2;
      }
      var _mochaLocalExport = {};
      _mochaLocalExport.testExport2 = testExport2;
      var testExport3 = _mochaLocalExport.testExport3 =  {
          test : 200
        };
      return _mochaLocalExport;
    }();
  return _mochaLocalExport;
}();
</pre>
</notextile>

*無名モジュール*

<notextile>
<pre class="brush: js">
module {
  module testInnerModule4 {
    export testExport4()->3;
  }
  export testExport5()->4;
}
</pre>
</notextile>

*変換後*

<notextile>
<pre class="brush: js">
!function () {
  function testExport5() {
    return 4;
  }
  var _mochaLocalExport = _mochaGlobalAlias,
      testInnerModule4 = _mochaLocalExport.testInnerModule4 = function () {
        function testExport4() {
          return 3;
        }
        var _mochaLocalExport = {};
        _mochaLocalExport.testExport4 = testExport4;
        return _mochaLocalExport;
      }();
  _mochaLocalExport.testExport5 = testExport5;
  return _mochaLocalExport;
}();
</pre>
</notextile>

各モジュールはファイルスコープ直下にしか置けません。
モジュールに指定した名前が直接エクスポートされます。
無名モジュールの場合はexportした値が直接エクスポートされます。
