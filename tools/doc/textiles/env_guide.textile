h2. 設定用jsファイルの環境

h3. "index":index.html > 設定用jsファイルの環境

設定用のjsファイルに付いての詳細です。

監視設定用のjsファイルはmocha起動時に自動で読み込まれます。
そのためこれらのjsに対して何かを行う必要は有りません。

*グローバルスコープ*

設定用のjsファイル内ではグローバル変数として、mochaが定義されます。
この名前空間に各ユーティリティがはいっています。

*モジュール化*

ファイルを分割することも可能です。
分割したファイルを読み込むには

<pre class="brush: js">
mocha.import('faile name')
</pre>

とすることで読み込みが可能です。
逆に値をエクスポートするには

<pre class="brush: js">
mocha.export('test', function () {return 1;});
</pre>

のようにする事で外部からこの値を参照できます。
各ファイルはファイルスコープをもち、グローバル変数は定義できません。

*importのルール*

ファイルのインポートは以下のルールに沿って行われます。

|_. 記述|_. 説明|
|'./filename'|現在のファイルがあるディレクトリから探します。|
|'filename'|ネイティブモジュールを探します。|

*ES Next*

これらのjsファイル内ではES nextの拡張も利用できます。
ただし、importや@includeを使用するよりは、mocha.importの使用を検討してください。


