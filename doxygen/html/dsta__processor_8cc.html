<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mocha: Y:/mocha/src/ast/visitors/utils/processors/dsta_processor.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mocha</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Y:/mocha/src/ast/visitors/utils/processors/dsta_processor.cc File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="dsta__processor_8h_source.html">ast/visitors/utils/processors/dsta_processor.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="processor__info_8h_source.html">ast/visitors/utils/processors/processor_info.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="visitor__info_8h_source.html">ast/visitors/utils/visitor_info.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="ast__utils_8h_source.html">ast/utils/ast_utils.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="managed__handle_8h_source.html">utils/pool/managed_handle.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="compiler_8h_source.html">compiler/compiler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="js__token_8h_source.html">compiler/tokens/js_token.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="token__info_8h_source.html">compiler/tokens/token_info.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="symbol__list_8h_source.html">compiler/tokens/symbol_list.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="exception__handler_8h_source.html">compiler/utils/exception_handler.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="grammar_8tab_8hh_source.html">grammar/grammar.tab.hh</a>&gt;</code><br/>
</div>
<p><a href="dsta__processor_8cc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html">mocha</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsta__processor_8cc.html#a04742d7f90e8442694c6966153e818a2">ERROR</a>(info, func)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsta__processor_8cc.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>&#160;&#160;&#160;<a class="el" href="structyy_1_1_parser_implementation_1_1token.html">yy::ParserImplementation::token</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsta__processor_8cc.html#a19ff393b4360cbfec2b96ba18961fdb7">UPDATE_TREE</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">We express destructuring assingment as dsta.  <a href="#a19ff393b4360cbfec2b96ba18961fdb7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#a52d7a3f3bf8de146d1e05760aa7463dc">mocha::ProcessObject</a> (ValueNode *ast_node, DstaTree *tree, int depth, ProcessorInfo *info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate Object pattern like var { x, y , z : { x } } = {...}.  <a href="#a52d7a3f3bf8de146d1e05760aa7463dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#ae7216e54bbad37a8eb20cdf819e3cc0b">mocha::ProcessArray</a> (ValueNode *ast_node, DstaTree *tree, int depth, ProcessorInfo *info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process Array pattern.  <a href="#ae7216e54bbad37a8eb20cdf819e3cc0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#adb1a85a8064e46a4ad0109ead9aba3e8">mocha::ProcessMember</a> (ValueNode *ast_node, DstaTree *tree, ProcessorInfo *proc_info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the Object pattern's property member.  <a href="#adb1a85a8064e46a4ad0109ead9aba3e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DstaTree *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#a23f9553bc80e3ea1df3feda5667c0282">mocha::ProcessPropertyMember</a> (ValueNode *value, DstaTree *tree, ProcessorInfo *info, int depth)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process { x : &lt;...&gt; } or { &lt;...&gt; }.  <a href="#a23f9553bc80e3ea1df3feda5667c0282"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#a1e0321e63212cb250b296eb1958fde95">mocha::ArrayHelper</a> (ValueNode *ast_node, VisitorInfo *visitor_info, DstaTree *tree, int index, ValueNode *symbol, bool is_rest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DstaTree *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#af8a6e0cfa8b0cf7abe9b684eec0cfcef">mocha::ProcessArrayElement</a> (ValueNode *ast_node, AstNode *element, DstaTree *tree, int depth, int index, ProcessorInfo *info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process each member of array pattern.  <a href="#af8a6e0cfa8b0cf7abe9b684eec0cfcef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AstNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#a112c49bb7f4b348cfb03ece35ee1c97a">mocha::CreateConditional</a> (AstNode *last_exp, AstNode *first, ProcessorInfo *info, bool is_assign)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NodeList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#a7f88242dd7a314683af9e25a253575ec">mocha::IterateTree</a> (NodeList *result, AstNode *first, ProcessorInfo *info, bool is_assign)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AstNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#aa1c1e8405ca6a36492f0ae4b6f6f5a88">mocha::CreateSimpleAccessor</a> (AstNode *first, VisitorInfo *info, bool is_assign)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple property accessor.  <a href="#aa1c1e8405ca6a36492f0ae4b6f6f5a88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NodeList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemocha.html#acd5c53aedeb5b13ad796ff32a95e6ac3">mocha::CreateDstaExtractedNode</a> (Statement *stmt, ProcessorInfo *info, bool is_assign)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a statement, from the results of analyzing dsta expressions.  <a href="#acd5c53aedeb5b13ad796ff32a95e6ac3"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a04742d7f90e8442694c6966153e818a2"></a><!-- doxytag: member="dsta_processor.cc::ERROR" ref="a04742d7f90e8442694c6966153e818a2" args="(info, func)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">info, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="author"><dt><b>Author:</b></dt><dd>Taketoshi Aono  Implementation of destructuring assignment processor.  Copyright (c) 2011 Taketoshi Aono Licensed under the BSD.</dd></dl>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated doc umentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions ofthe Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>

<p>Definition at line <a class="el" href="dsta__processor_8cc_source.html#l00037">37</a> of file <a class="el" href="dsta__processor_8cc_source.html">dsta_processor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5c3a83864bf5991d09aa5c2abb911bf0"></a><!-- doxytag: member="dsta_processor.cc::TOKEN" ref="a5c3a83864bf5991d09aa5c2abb911bf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOKEN&#160;&#160;&#160;<a class="el" href="structyy_1_1_parser_implementation_1_1token.html">yy::ParserImplementation::token</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="dsta__processor_8cc_source.html#l00040">40</a> of file <a class="el" href="dsta__processor_8cc_source.html">dsta_processor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a19ff393b4360cbfec2b96ba18961fdb7"></a><!-- doxytag: member="dsta_processor.cc::UPDATE_TREE" ref="a19ff393b4360cbfec2b96ba18961fdb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPDATE_TREE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> ( depth == 0 ) {                           \
    tree = ManagedHandle::Retain&lt;DstaTree&gt;();   \
  } <span class="keywordflow">else</span> {                                      \
    tree = tree-&gt;Clone()-&gt;CastToDstaTree();     \
    tree-&gt;RemoveChild( tree-&gt;LastChild() );     \
  }
</pre></div>
<p>We express destructuring assingment as dsta. </p>
<p>Let's begin transform of abstract syntax tree! Buf before that , describe target tree structure overview on following.</p>
<p>Statement&lt;Current active statement&gt; | DstaExtractedExpression -----Refs | |----- NodeList-------- | | | | | | Ref1 Ref2 ... Tree Tree Tree Tree | CallExp&lt;Result of processing&gt;</p>
<p>The DstaExtractedExpression could has multiple Tree class, but appling this case will be only in case that dsta appear in the formal_parameter_list. Now mocha implements dsta as the conditional expression or simple property accessor. This implementation not throw error, except if lhs is null or undefined, this based on firefox implemetation, not harmony. </p>

<p>Definition at line <a class="el" href="dsta__processor_8cc_source.html#l00068">68</a> of file <a class="el" href="dsta__processor_8cc_source.html">dsta_processor.cc</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Feb 16 2012 23:50:23 for mocha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
